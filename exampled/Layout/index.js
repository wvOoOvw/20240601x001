(()=>{"use strict";const e=e=>e.x,t=e=>e.x+e.w,n=e=>e.y,o=e=>e.y+e.h,r=r=>Object({...r,l:e(r),r:t(r),t:n(r),b:o(r)}),a=e=>e.x+e.w/2,l=e=>e.y+e.h/2,i=e=>e.x,c=e=>e.y,h=e=>e.x,d=e=>e.y+e.h,s=e=>e.x+e.w,u=e=>e.y,f=e=>e.x+e.w,p=e=>e.y+e.h,v=e=>Object({...e,cx:a(e),cy:l(e),ltx:i(e),lty:c(e),lbx:h(e),lby:d(e),rtx:s(e),rty:u(e),rbx:f(e),rby:p(e)}),y=e=>.01*Math.min(e.w,e.h),m=e=>.01*Math.max(e.w,e.h),x=e=>.01*e.w,g=e=>.01*e.h,w=e=>Object({...e,vmin:y(e),vmax:m(e),vw:x(e),vh:g(e)}),E=e=>Object({...e,x:e.cx-e.w/2,y:e.cy-e.h/2}),b=e=>Object({x:e.x,y:e.y,w:e.w,h:e.h,...r(e),...v(e),...w(e)}),A={l:e,r:t,t:n,b:o,wireframe:r,cx:a,cy:l,ltx:i,lty:c,lbx:h,lby:d,rtx:s,rty:u,rbx:f,rby:p,point:v,vmin:y,vmax:m,vw:x,vh:g,viewport:w,fromcenter:E,coordinate:b,coordinatefromcenter:e=>b(E(e)),add:e=>e.reduce(((e,t)=>Object({x:e.x+(t.x||0),y:e.y+(t.y||0),w:e.w+(t.w||0),h:e.h+(t.h||0)})),{x:0,y:0,w:0,h:0}),box:e=>e.reduce(((e,t)=>Object({x:t.x?Math.min(e.x,t.x):e.x,y:t.y?Math.min(e.y,t.y):e.y,w:t.x&&t.w?Math.max(e.w,t.x+t.w):e.w,h:t.y&&t.h?Math.max(e.h,t.y+t.h):e.h})),{x:0,y:0,w:0,h:0}),wmin:e=>e.reduce(((e,t)=>t.w?Math.min(t.w,e):e),0),wmax:e=>e.reduce(((e,t)=>t.w?Math.max(t.w,e):e),0),hmin:e=>e.reduce(((e,t)=>t.h?Math.min(t.h,e):e),0),hmax:e=>e.reduce(((e,t)=>t.h?Math.max(t.h,e):e),0),pointcover:(e,t)=>t.x>=e.x&&t.x<=e.x+e.w&&t.y>=e.y&&t.y<=e.y+e.h},k=A;var B=[],z=[],C=0,T=0,M={alternate:"root",children:[]},S=M,I=!1,L=!1,P=[],R=void 0,X=0,Y=[],O=void 0,j=[];const D=e=>{e.hooks.filter((e=>e.type===H&&e.effectPrevious&&"function"==typeof e.effectPrevious)).forEach((e=>P.push((()=>e.effectPrevious())))),e.hooks.filter((e=>e.type===G&&e.effectPrevious&&"function"==typeof e.effectPrevious)).forEach((e=>e.effectPrevious())),e.children.forEach((e=>D(e)))},F=e=>{S=e,R.children[X]=e,R=e,X=0,z.push(0),Y.push({hooks:e.hooks,index:0}),O=Y[Y.length-1]},U=e=>{S=e,e.children.filter(((e,t)=>t>X||t===X)).forEach((e=>D(e))),e.children=e.children.filter(((e,t)=>t<X)),R=e.parent,X=R.children.findIndex((t=>t===e))+1,B=B.filter(((e,t)=>t<B.length-z[z.length-1])),z=z.filter(((e,t)=>t<z.length-1)),Y=Y.filter(((e,t)=>t<Y.length-1)),O=Y[Y.length-1],e.hooks.filter((e=>e.type===J&&e.effect&&"function"==typeof e.effect)).forEach((e=>e.effect()))},q=()=>{for(I=!0,C=performance.now(),R=M,X=0,j.forEach((e=>e()));0!==P.length;)P.shift()();const e=()=>{requestAnimationFrame((()=>{const t=performance.now();t-C<T&&e(),(t-C>T||t-C===T)&&(I=!1),(t-C>T||t-C===T)&&q()}))};L&&e(),!1===L&&(I=!1),L=!1},N=e=>{var t;return void 0===t&&(t=O.hooks[O.index]),void 0===t&&(t={state:e}),O.hooks[O.index]=t,[t.state,e=>{"function"==typeof e&&(t.state=e(t.state)),"function"!=typeof e&&(t.state=e),!0===I&&(L=!0),!1===I&&requestAnimationFrame(q)}]},W=e=>{var t;return void 0===t&&(t=O.hooks[O.index]),void 0===t&&(t={current:e}),O.hooks[O.index]=t,t},H=(e,t)=>{var n;void 0===n&&(n=O.hooks[O.index]),void 0===n&&(n={effect:e}),O.hooks[O.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&P.push((()=>n.effectPrevious=n.effectPrevious&&"function"==typeof n.effectPrevious?n.effectPrevious():void 0)),(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&P.push((()=>n.effectPrevious=e())),n.dependence=t},G=(e,t)=>{var n;void 0===n&&(n=O.hooks[O.index]),void 0===n&&(n={effect:e}),O.hooks[O.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.effectPrevious=n.effectPrevious&&"function"==typeof n.effectPrevious?n.effectPrevious():void 0),(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.effectPrevious=e()),n.dependence=t},J=(e,t)=>{var n;void 0===n&&(n=O.hooks[O.index]),void 0===n&&(n={effect:e}),O.hooks[O.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.effect=e),n.dependence=t},K=(e,t)=>{var n;return void 0===n&&(n=O.hooks[O.index]),void 0===n&&(n={memo:e}),O.hooks[O.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.memo=e()),n.dependence=t,n.memo},Q=(e,t)=>{var n;return void 0===n&&(n=O.hooks[O.index]),void 0===n&&(n={callback:e}),O.hooks[O.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.callback=e),n.dependence=t,n.callback},V={renderNode:()=>S,mount:(e,t)=>(j.push(e),T=t,V),render:q,componentRunBefore:F,componentRunAfter:U,compoment:(e,t,n)=>{var o,r=Object(t).key,a=Object(t).ref,l=R.children.findIndex((t=>void 0!==t.key&&t.key===r&&t.alternate===e));-1!==l&&R.children.splice(X,0,R.children.splice(l,1)[0]),void 0===o&&R.children[X]&&R.children[X].alternate===e&&R.children[X].key===r&&(o=R.children[X]),void 0===o&&(o={key:r,alternate:e,children:[],hooks:[],props:t}),o!==R.children[X]&&R.children[X]&&D(R.children[X]),o.parent=R,F(o),n(o.alternate(t)),U(o),"function"==typeof a&&a(o)},createElement:(e,t,...n)=>({alternate:e,props:t,children:n}),Fragment:e=>e.children,contextProvider:e=>{B.push(e),z[z.length-1]=z[z.length-1]+1},contextProviderExtend:e=>{B.push({...B[B.length-1],...e}),z[z.length-1]=z[z.length-1]+1},shouldRender:()=>{!0===I&&(L=!0),!1===I&&requestAnimationFrame(q)},useContext:()=>B[B.length-1],useState:N,useRef:W,useEffect:H,useEffectLoopEnd:J,useEffectImmediate:G,useMemo:K,useCallback:Q};Object.keys(V).filter((e=>[N,W,H,J,G,K,Q].includes(V[e]))).forEach((e=>{return V[e]=(t=V[e],(...e)=>{try{if(void 0!==O.hooks[O.index]&&O.hooks[O.index].type!==t)throw Error(t);return t(...e)}finally{O.hooks[O.index].type=t,O.index=O.index+1}});var t}));const Z=V,$=e=>{const t=k.coordinate({x:e.x,y:e.y,w:e.w,h:e.h});return new Array(Math.ceil(100*t.vmax/e.gap/2)).fill().map(((n,o)=>0===o?Z.createElement(Z.Fragment,null,Z.createElement("rect",{save:!0,fill:!0,x:t.x,y:t.cy,w:100*t.vmax,h:.1*t.vmax,globalAlpha:.5,fillStyle:e.color}),Z.createElement("rect",{save:!0,fill:!0,x:t.cx,y:t.y,w:.1*t.vmax,h:100*t.vmax,globalAlpha:.5,fillStyle:e.color})):0!==o?Z.createElement(Z.Fragment,null,Z.createElement("rect",{save:!0,fill:!0,x:t.x,y:t.cy+e.gap*o,w:100*t.vmax,h:.1*t.vmax,globalAlpha:.25,fillStyle:e.color}),Z.createElement("rect",{save:!0,fill:!0,x:t.x,y:t.cy-e.gap*o,w:100*t.vmax,h:.1*t.vmax,globalAlpha:.25,fillStyle:e.color}),Z.createElement("rect",{save:!0,fill:!0,x:t.cx+e.gap*o,y:t.y,w:.1*t.vmax,h:100*t.vmax,globalAlpha:.25,fillStyle:e.color}),Z.createElement("rect",{save:!0,fill:!0,x:t.cx-e.gap*o,y:t.y,w:.1*t.vmax,h:100*t.vmax,globalAlpha:.25,fillStyle:e.color})):void 0))};var _=[];const ee=(e,t)=>{_=[..._,{type:e,callback:t}]},te=(e,t)=>{_=_.filter((n=>n.type!==e||n.callback!==t))},ne={addEventListener:ee,removeEventListener:te,clearEventListener:()=>{_=[]},useEventListener:(e,t)=>{Z.useEffectImmediate((()=>ee(e,t)),[e,t]),Z.useEffectImmediate((()=>()=>te(e,t)),[e,t])},addEventListenerWithCanvas:e=>{new Array("click","touchstart","touchmove","touchend","mousedown","mousemove","mouseup").forEach((t=>{e.addEventListener(t,(e=>((e,t)=>{const n=_.filter((e=>e.type===t)).sort(((e,t)=>{const n=void 0===e.option||void 0===e.option.priority?0:e.option.priority;return(void 0===t.option||void 0===t.option.priority?0:t.option.priority)-n}));var o=!1;n.forEach((t=>{var n,r;void 0===window.ontouchstart&&(n=e.pageX),void 0===window.ontouchstart&&(r=e.pageY),void 0!==window.ontouchstart&&(n=e.changedTouches[0].pageX),void 0!==window.ontouchstart&&(r=e.changedTouches[0].pageY),n*=Me.dpr(),r*=Me.dpr();const a={native:e,x:n,y:r,stopPropagation:()=>o=!0};!1===o&&t.callback(a)}))})(e,t)),{passive:!0})}))}},oe=ne,re=e=>{if(void 0===window.ontouchstart){var{onStart:t,onMove:n,onEnd:o}=(e=>{const t=Z.useRef(),n=Z.useRef(),o=Z.useCallback((t=>{e.onChange&&e.onChange(t)}),[e.onChange]);return{onStart:Z.useCallback((r=>{if(!1===e.enable)return;const a=r.pageX,l=r.pageY;t.current={x:a,y:l},n.current={x:a,y:l},o({type:"mouse",status:"afterStart",e:r,x:a,y:l,changedX:0,changedY:0,continuedX:0,continuedY:0})}),[e.enable,e.onChange]),onMove:Z.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=r.pageX,l=r.pageY,i=a-n.current.x,c=l-n.current.y,h=n.current.x-t.current.x,d=n.current.y-t.current.y;n.current={x:a,y:l},o({type:"mouse",status:"afterMove",e:r,x:a,y:l,changedX:i,changedY:c,continuedX:h,continuedY:d})}),[e.enable,e.onChange]),onEnd:Z.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=r.pageX,l=r.pageY,i=a-n.current.x,c=l-n.current.y,h=n.current.x-t.current.x,d=n.current.y-t.current.y;o({type:"mouse",status:"beforeEnd",e:r,x:a,y:l,changedX:i,changedY:c,continuedX:h,continuedY:d}),t.current=void 0,n.current=void 0,o({type:"mouse",status:"afterEnd",e:r,x:a,y:l,changedX:i,changedY:c,continuedX:h,continuedY:d})}),[e.enable,e.onChange])}})({onChange:e.onChange,enable:e.enable});oe.useEventListener("mousedown",t,e.startOption),oe.useEventListener("mousemove",n,e.moveOption),oe.useEventListener("mouseup",o,e.endOption)}if(void 0!==window.ontouchstart){var{onStart:t,onMove:n,onEnd:o}=(e=>{const t=Z.useRef(),n=Z.useRef(),o=Z.useCallback((t=>{e.onChange&&e.onChange(t),e.onChangeMemo&&e.onChangeMemo(t)}),[e.onChange]);return{onStart:Z.useCallback((r=>{if(!1===e.enable)return;const a=[...r.changedTouches].map((e=>e.pageX)),l=[...r.changedTouches].map((e=>e.pageY));t.current={x:a,y:l},n.current={x:a,y:l};const i=[],c=[],h=[],d=[];a.forEach(((e,t)=>{i[t]=0,h[t]=0})),l.forEach(((e,t)=>{c[t]=0,d[t]=0})),o({type:"touch",status:"afterStart",e:r,x:a,y:l,changedX:i,changedY:c,continuedX:h,continuedY:d})}),[e.enable,e.onChange]),onMove:Z.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=[...r.changedTouches].map((e=>e.pageX)),l=[...r.changedTouches].map((e=>e.pageY)),i=[],c=[],h=[],d=[];a.forEach(((e,o)=>{i[o]=e-n.current.x[o],h[o]=n.current.x[o]-t.current.x[o]})),l.forEach(((e,o)=>{c[o]=e-n.current.y[o],d[o]=n.current.y[o]-t.current.y[o]})),n.current={x:a,y:l},o({type:"touch",status:"afterMove",e:r,x:a,y:l,changedX:i,changedY:c,continuedX:h,continuedY:d})}),[e.enable,e.onChange]),onEnd:Z.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=[...r.changedTouches].map((e=>e.pageX)),l=[...r.changedTouches].map((e=>e.pageY)),i=[],c=[],h=[],d=[];a.forEach(((e,o)=>{i[o]=e-n.current.x[o],h[o]=n.current.x[o]-t.current.x[o]})),l.forEach(((e,o)=>{c[o]=e-n.current.y[o],d[o]=n.current.y[o]-t.current.y[o]})),o({type:"touch",status:"beforeEnd",e:r,x:a,y:l,changedX:i,changedY:c,continuedX:h,continuedY:d}),t.current=void 0,n.current=void 0,o({type:"touch",status:"afterEnd",e:r,x:a,y:l,changedX:i,changedY:c,continuedX:h,continuedY:d})}),[e.enable,e.onChange])}})({onChange:e.onChange,enable:e.enable});oe.useEventListener("touchstart",t,e.startOption),oe.useEventListener("touchmove",n,e.moveOption),oe.useEventListener("touchend",o,e.endOption)}},ae=e=>(ke.componentRunBefore(e),((e,t,n,o,r,a)=>{var{x:l,y:i,w:c,h}=t;e.beginPath(),e.arc(l,i,n,o,r,a)})(Me.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.radius,e.sAngle,e.eAngle,e.counterclockwise),ke.componentRunAfter(e),e.children),le=e=>(Me.context().save(),ke.componentRunBefore(e),Me.context().clip(Me.context(),{x:e.x,y:e.y,w:e.w,h:e.h}),ke.componentRunAfter(e),Z.useEffectLoopEnd((()=>Me.context().restore()),[]),e.children),ie=e=>{var t;return ke.componentRunBefore(e),!0===Boolean(e.image)&&!0!==Boolean(e.clipmin)&&!0===Boolean(e.clipmax)&&!0===Boolean(e.center)&&(t=((e,t,n)=>{var{x:o,y:r,w:a,h:l}=t;if(0===n.width||0===n.height)return;var i=0,c=0,h=n.width,d=n.height;const s=a/h,u=l/d;return s>u&&(c=d-d*u/s,d-=d-d*u/s),u>s&&(i=h-h*s/u,h-=h-h*s/u),e.drawImage(n,i,c,h,d,o,r,a,l),{sx:i,sy:c,sw:h,sh:d,x:o,y:r,w:a,h:l}})(Me.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.image)),!0===Boolean(e.image)&&!0===Boolean(e.clipmin)&&!0!==Boolean(e.clipmax)&&!0===Boolean(e.center)&&(t=((e,t,n)=>{var{x:o,y:r,w:a,h:l}=t;if(0===n.width||0===n.height)return;var i=n.width,c=n.height;const h=a/i,d=l/c;return h>d&&(o+=(a-a*d/h)/2,a-=a-a*d/h),d>h&&(r+=(l-l*h/d)/2,l-=l-l*h/d),e.drawImage(n,0,0,i,c,o,r,a,l),{sx:0,sy:0,sw:i,sh:c,x:o,y:r,w:a,h:l}})(Me.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.image)),!0===Boolean(e.image)&&!0!==Boolean(e.clipmin)&&!0!==Boolean(e.clipmax)&&((e,t,n)=>{var{x:o,y:r,w:a,h:l}=t;if(0!==n.width&&0!==n.height){var i=n.width,c=n.height;e.drawImage(n,0,0,i,c,o,r,a,l)}})(Me.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.image),!0===Boolean(t)&&!0===Boolean(e.onClipPosition)&&e.onClipPosition(t),ke.componentRunAfter(e),e.children},ce=(e,t)=>{var n=0;return t.forEach((t=>{t.x=e.x+n,n+=t.w})),t},he=(e,t)=>{var n=0;return t.forEach((t=>{t.x=e.x+e.w-t.w-n,n+=t.w})),t},de=(e,t)=>{var n=0,o=k.add(t).w;return t.forEach((t=>{t.x=e.x+(e.w-o)/2+n,n+=t.w})),t},se=(e,t)=>{var n=0,o=k.add(t).w;return t.forEach(((r,a)=>{r.x=e.x+(e.w-o)/(t.length-1)*a+n,n+=r.w})),t},ue=(e,t)=>{var n=0,o=k.add(t).w;return t.forEach(((r,a)=>{r.x=e.x+(e.w-o)/(t.length+1)*(a+1)+n,n+=r.w})),t},fe=(e,t)=>{var n=0,o=!1,r=[];return t.forEach((t=>{!1===o&&(n+t.w<e.w||n+t.w===e.w)&&r.push(t),!1===o&&(n+t.w<e.w||n+t.w===e.w)&&(n+=t.w),n+t.w>e.w&&(o=!0)})),{result:r,rest:t.filter(((e,t)=>t>r.length-1))}},pe=(e,t,n)=>{for(var o=[],r=t;r.length;){const t=fe(e,r);o=[...o,n(e,t.result)],r=t.rest}return{result:o,rest:t.filter(((e,t)=>t<o.flat().length-1))}},ve=(e,t)=>{var n=0;return t.forEach((t=>{t.y=e.y+n,n+=t.h})),t},ye=(e,t)=>{var n=0;return t.forEach((t=>{t.y=e.y+e.h-t.h-n,n+=t.h})),t},me=(e,t)=>{var n=0,o=k.add(t).h;return t.forEach((t=>{t.y=e.y+(e.h-o)/2+n,n+=t.h})),t},xe=(e,t)=>{var n=0,o=k.add(t).h;return t.forEach(((r,a)=>{r.y=e.y+(e.h-o)/(t.length-1)*a+n,n+=r.h})),t},ge=(e,t)=>{var n=0,o=k.add(t).h;return t.forEach(((r,a)=>{r.y=e.y+(e.h-o)/(t.length+1)*(a+1)+n,n+=r.h})),t},we=(e,t,n)=>{for(var o=[],r=t;r.length;)o=[...o,n(e,r).result],r=n(e,r).rest;return{result:o,rest:t.filter(((e,t)=>t<o.flat().length-1))}},Ee=e=>(ke.componentRunBefore(e),"object"==typeof e.children&&e.children.every((e=>"layout"===e.alternate))&&e.flow&&(e=>{e.flow.forEach((t=>{"horizontal"===t&&(e=>{if(!0===Boolean(e.horizontalAccommodate)){const t=fe(e,e.children.map((e=>e.props))).result;e.children=e.children.filter(((e,n)=>n<t.length))}!1===Boolean(e.horizontalInfinite)&&"forward"===e.horizontal&&ce(e,e.children.map((e=>e.props))),!1===Boolean(e.horizontalInfinite)&&"reverse"===e.horizontal&&he(e,e.children.map((e=>e.props))),!1===Boolean(e.horizontalInfinite)&&"center"===e.horizontal&&de(e,e.children.map((e=>e.props))),!1===Boolean(e.horizontalInfinite)&&"around"===e.horizontal&&se(e,e.children.map((e=>e.props))),!1===Boolean(e.horizontalInfinite)&&"between"===e.horizontal&&ue(e,e.children.map((e=>e.props))),!0===Boolean(e.horizontalInfinite)&&"forward"===e.horizontal&&pe(e,e.children.map((e=>e.props)),ce),!0===Boolean(e.horizontalInfinite)&&"reverse"===e.horizontal&&pe(e,e.children.map((e=>e.props)),he),!0===Boolean(e.horizontalInfinite)&&"center"===e.horizontal&&pe(e,e.children.map((e=>e.props)),de),!0===Boolean(e.horizontalInfinite)&&"around"===e.horizontal&&pe(e,e.children.map((e=>e.props)),se),!0===Boolean(e.horizontalInfinite)&&"between"===e.horizontal&&pe(e,e.children.map((e=>e.props)),ue)})(e),"vertical"===t&&(e=>{if(!0===Boolean(e.verticalAccommodate)){const l=(t=e,n=e.children.map((e=>e.props)),o=0,r=!1,a=[],n.forEach((e=>{!1===r&&(o+e.h<t.h||o+e.h===t.h)&&a.push(e),!1===r&&(o+e.h<t.h||o+e.h===t.h)&&(o+=e.h),o+e.y>t.h&&(r=!0)})),{result:a,rest:n.filter(((e,t)=>t>a.length-1))}).result;e.children=e.children.filter(((e,t)=>t<l.length))}var t,n,o,r,a;!1===Boolean(e.verticalInfinite)&&"forward"===e.vertical&&ve(e,e.children.map((e=>e.props))),!1===Boolean(e.verticalInfinite)&&"reverse"===e.vertical&&ye(e,e.children.map((e=>e.props))),!1===Boolean(e.verticalInfinite)&&"center"===e.vertical&&me(e,e.children.map((e=>e.props))),!1===Boolean(e.verticalInfinite)&&"around"===e.vertical&&xe(e,e.children.map((e=>e.props))),!1===Boolean(e.verticalInfinite)&&"between"===e.vertical&&ge(e,e.children.map((e=>e.props))),!0===Boolean(e.verticalInfinite)&&"forward"===e.vertical&&we(e,e.children.map((e=>e.props)),ve),!0===Boolean(e.verticalInfinite)&&"reverse"===e.vertical&&we(e,e.children.map((e=>e.props)),ye),!0===Boolean(e.verticalInfinite)&&"center"===e.vertical&&we(e,e.children.map((e=>e.props)),me),!0===Boolean(e.verticalInfinite)&&"around"===e.vertical&&we(e,e.children.map((e=>e.props)),xe),!0===Boolean(e.verticalInfinite)&&"between"===e.vertical&&we(e,e.children.map((e=>e.props)),ge)})(e),"horizontalAlign"===t&&(e=>{var t;"left"===e.horizontalAlign&&(t=e,e.children.map((e=>e.props)).forEach(((e,n)=>{e.x=t.x}))),"right"===e.horizontalAlign&&((e,t)=>{t.forEach(((t,n)=>{t.x=e.x+e.w}))})(e,e.children.map((e=>e.props))),"center"===e.horizontalAlign&&((e,t)=>{t.forEach(((t,n)=>{t.x=e.x+(e.w-t.w)/2}))})(e,e.children.map((e=>e.props)))})(e),"verticalAlign"===t&&(e=>{var t;"top"===e.verticalAlign&&(t=e,e.children.map((e=>e.props)).forEach(((e,n)=>{e.y=t.y}))),"bottom"===e.verticalAlign&&((e,t)=>{t.forEach(((t,n)=>{t.y=e.y+e.h}))})(e,e.children.map((e=>e.props))),"center"===e.verticalAlign&&((e,t)=>{t.forEach(((t,n)=>{t.y=e.y+(e.h-t.h)/2}))})(e,e.children.map((e=>e.props)))})(e)}))})(e),ke.componentRunAfter(e),e.children.map((t=>"function"==typeof t?t({x:e.x,y:e.y,w:e.w,h:e.h}):"object"==typeof t?t:void 0))),be=e=>(ke.componentRunBefore(e),!0===Boolean(e.radius)&&((e,t,n)=>{var{x:o,y:r,w:a,h:l}=t;const i=Array.isArray(n)?n:new Array(4).fill(n);e.beginPath(),e.moveTo(o,r+i[0]),e.arcTo(o,r,o+i[0],r,i[0]),e.lineTo(o+a-i[1],r),e.arcTo(o+a,r,o+a,r+i[1],i[1]),e.lineTo(o+a,r+l-i[2]),e.arcTo(o+a,r+l,o+a-i[2],r+l,i[2]),e.lineTo(o+i[3],r+l),e.arcTo(o,r+l,o,r+l-i[3],i[3]),e.closePath()})(Me.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.radius),!0!==Boolean(e.radius)&&((e,t)=>{var{x:n,y:o,w:r,h:a}=t;e.beginPath(),e.moveTo(n,o),e.lineTo(n+r,o),e.lineTo(n+r,o+a),e.lineTo(n,o+a),e.closePath()})(Me.context(),{x:e.x,y:e.y,w:e.w,h:e.h}),ke.componentRunAfter(e),e.children),Ae=e=>{ke.componentRunBefore(e);const t=((e,t,n)=>{var o="",r=[];return n.split("").forEach((n=>{const a=e.measureText(o+n).width;a>t&&r.push({text:o,w:a,h:Number(e.font.match(/\d+px/)[0].replace("px",""))}),a>t&&(o=""),o+=n})),o&&r.push({text:o,w:e.measureText(o).width,h:Number(e.font.match(/\d+px/)[0].replace("px",""))}),r})(Me.context(),e.w,e.text);return t.forEach(((t,n)=>{!0===Boolean(e.fillText)&&Me.context().fillText(t.text,e.x,e.y+t.h+n*t.h+n*(e.gap||0)),!0===Boolean(e.strokeText)&&Me.context().strokeText(t.text,e.x,e.y+t.h+n*t.h+n*(e.gap||0))})),ke.componentRunAfter(e),e.children},ke={render:e=>"arc"===e?ae:"clip"===e?le:"image"===e?ie:"layout"===e?Ee:"rect"===e?be:"text"===e?Ae:void 0,componentRunBefore:e=>{!0===Boolean(e.save)&&Me.context().save(),void 0!==e.globalAlpha&&(Me.context().globalAlpha=e.globalAlpha),void 0!==e.font&&(Me.context().font=e.font),void 0!==e.fillStyle&&(Me.context().fillStyle=e.fillStyle),void 0!==e.strokeStyle&&(Me.context().strokeStyle=e.strokeStyle)},componentRunAfter:e=>{!0===Boolean(e.fill)&&Me.context().fill(),!0===Boolean(e.stroke)&&Me.context().stroke(),!0===Boolean(e.save)&&Me.context().restore(),e&&"function"==typeof e.onClick&&oe.useEventListener("click",e.onClick),e&&"function"==typeof e.onTouchStart&&oe.useEventListener("touchstart",e.onTouchStart),e&&"function"==typeof e.onTouchMove&&oe.useEventListener("touchmove",e.onTouchMove),e&&"function"==typeof e.onTouchEnd&&oe.useEventListener("touchend",e.onTouchEnd),e&&"function"==typeof e.onMouseUp&&oe.useEventListener("mousedown",e.onMouseUp),e&&"function"==typeof e.onMouseMove&&oe.useEventListener("mousemove",e.onMouseMove),e&&"function"==typeof e.onMouseUp&&oe.useEventListener("mouseup",e.onMouseUp),e&&"object"==typeof e.onDrag&&re(e.onDragOption)}};var Be,ze,Ce;const Te=e=>{e&&"object"==typeof e&&(!0===Array.isArray(e)&&e.forEach((e=>Te(e))),!1===Array.isArray(e)&&"function"==typeof e.alternate&&Z.compoment(e.alternate,{...e.props,children:e.children},Te),!1===Array.isArray(e)&&"string"==typeof e.alternate&&"layout"!==e.alternate&&Z.compoment(ke.render(e.alternate),{...e.props,children:e.children},Te),!1===Array.isArray(e)&&"string"==typeof e.alternate&&"layout"===e.alternate&&Z.compoment(ke.render(e.alternate),{...e.props,children:e.children},Te))},Me={dpr:()=>Be,canvas:()=>ze,context:()=>Ce,mount:(e,t)=>{const n=document.createElement("style");n.innerHTML=["::-webkit-scrollbar { width: 0; height: 0; }","body { padding: 0; margin: 0; }","body, body * { overscroll-behavior: none; }"].join(" "),document.head.appendChild(n),window.addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),window.addEventListener("touchmove",(e=>e.preventDefault()),{passive:!1}),window.addEventListener("contextmenu",(e=>e.preventDefault()),{passive:!1}),Be=2,ze=document.createElement("canvas"),Ce=ze.getContext("2d");const o=()=>{ze.width=window.innerWidth*Be,ze.height=window.innerHeight*Be,ze.style.width="100%",ze.style.height="100%",ze.coordinate=k.coordinate({x:0,y:0,w:ze.width,h:ze.height})};return ze.style.position="absolute",ze.style.width="100%",ze.style.height="100%",ze.style.background="black",ze.style.overflow="hidden",o(),window.addEventListener("resize",(()=>{o(),Z.shouldRender()})),document.body.appendChild(ze),oe.addEventListenerWithCanvas(ze),Z.mount((()=>{Ce.clearRect(0,0,ze.width,ze.height),Te(e)}),t.frameTimeDiffMax),{render:Z.render}}};function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Se.apply(null,arguments)}const Ie=function(){return Z.createElement(Z.Fragment,null,Z.createElement($,{x:Me.canvas().coordinate.x,y:Me.canvas().coordinate.y,w:Me.canvas().coordinate.w,h:Me.canvas().coordinate.h,gap:100,color:"rgba(255, 255, 255, 1)"}),Z.createElement("layout",{x:Me.canvas().coordinate.x,y:Me.canvas().coordinate.y,w:Me.canvas().coordinate.w,h:Me.canvas().coordinate.h,flow:["horizontal","verticalAlign"],horizontal:"center",verticalAlign:"center"},Z.createElement("layout",{w:400,h:400,flow:["horizontal","verticalAlign"],horizontal:"center",verticalAlign:"center"},Z.createElement("layout",{w:100,h:100,flow:["horizontalAlign","verticalAlign"],horizontalAlign:"center",verticalAlign:"center"},Z.createElement("layout",{w:80,h:80},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(10, 10, 145, 1)"},e))))),Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(145, 145, 25, 1)"},e)))),Z.createElement("layout",{w:100,h:100,flow:["horizontalAlign","verticalAlign"],horizontalAlign:"center",verticalAlign:"center"},Z.createElement("layout",{w:80,h:80},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(10, 10, 145, 1)"},e)))))),Z.createElement("layout",{w:300,h:600,flow:["vertical","horizontalAlign"],vertical:"around",horizontalAlign:"center"},Z.createElement("layout",{w:120,h:120,flow:["horizontalAlign","verticalAlign"],horizontalAlign:"center",verticalAlign:"center"},Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(10, 230, 145, 1)"},e))))),Z.createElement("layout",{w:120,h:120,flow:["horizontalAlign","verticalAlign"],horizontalAlign:"center",verticalAlign:"center"},Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(10, 230, 145, 1)"},e))))),Z.createElement("layout",{w:120,h:120,flow:["horizontalAlign","verticalAlign"],horizontalAlign:"center",verticalAlign:"center"},Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(10, 230, 145, 1)"},e)))))),Z.createElement("layout",{w:400,h:400,flow:["vertical","horizontalAlign"],vertical:"center",horizontalAlign:"center"},Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(200, 145, 25, 1)"},e)))),Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(255, 255, 0, 1)"},e)))),Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(0, 255, 0, 1)"},e)))),Z.createElement("layout",{w:100,h:100},(e=>Z.createElement("rect",Se({save:!0,fill:!0,fillStyle:"rgba(35, 255, 145, 1)"},e)))))))};Me.mount(Z.createElement(Ie,null),{frameTimeDiffMax:12}).render()})();