(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Position:()=>P,React:()=>V,ReactDom:()=>be,ReactDomComponent:()=>ee,ReactPlugin:()=>$,default:()=>Ee});const n=e=>e.x,o=e=>e.x+e.w,r=e=>e.y,a=e=>e.y+e.h,c=e=>Object({...e,l:n(e),r:o(e),t:r(e),b:a(e)}),i=e=>e.x+e.w/2,l=e=>e.y+e.h/2,h=e=>e.x,s=e=>e.y,d=e=>e.x,u=e=>e.y+e.h,x=e=>e.x+e.w,f=e=>e.y,y=e=>e.x+e.w,v=e=>e.y+e.h,p=e=>Object({...e,cx:i(e),cy:l(e),ltx:h(e),lty:s(e),lbx:d(e),lby:u(e),rtx:x(e),rty:f(e),rbx:y(e),rby:v(e)}),m=e=>.01*Math.min(e.w,e.h),w=e=>.01*Math.max(e.w,e.h),g=e=>.01*e.w,b=e=>.01*e.h,E=e=>Object({...e,vmin:m(e),vmax:w(e),vw:g(e),vh:b(e)}),k=e=>Object({...e,x:e.cx-e.w/2,y:e.cy-e.h/2}),C=e=>Object({x:e.x,y:e.y,w:e.w,h:e.h,...c(e),...p(e),...E(e)}),A={l:n,r:o,t:r,b:a,wireframe:c,cx:i,cy:l,ltx:h,lty:s,lbx:d,lby:u,rtx:x,rty:f,rbx:y,rby:v,point:p,vmin:m,vmax:w,vw:g,vh:b,viewport:E,fromcenter:k,coordinate:C,coordinatefromcenter:e=>C(k(e)),add:e=>e.reduce(((e,t)=>Object({x:e.x+(t.x||0),y:e.y+(t.y||0),w:e.w+(t.w||0),h:e.h+(t.h||0)})),{x:0,y:0,w:0,h:0}),box:e=>{const t=e.reduce(((e,t)=>({boxt:e.boxt?Math.min(e.boxt,t.y):t.y,boxb:e.boxb?Math.min(e.boxb,t.y+t.h):t.y+t.h,boxl:e.boxl?Math.min(e.boxl,t.x):t.x,boxr:e.boxr?Math.min(e.boxr,t.x+t.w):t.x+t.w})),{boxt:void 0,boxb:void 0,boxl:void 0,boxr:void 0});return{x:t.boxl,y:t.boxt,w:t.boxr-t.boxl,h:t.boxb-t.boxt}},wmin:e=>e.reduce(((e,t)=>t.w?Math.min(t.w,e):e),0),wmax:e=>e.reduce(((e,t)=>t.w?Math.max(t.w,e):e),0),hmin:e=>e.reduce(((e,t)=>t.h?Math.min(t.h,e):e),0),hmax:e=>e.reduce(((e,t)=>t.h?Math.max(t.h,e):e),0),pointcover:(e,t)=>t.x>=e.x&&t.x<=e.x+e.w&&t.y>=e.y&&t.y<=e.y+e.h},P=A;var M=[],S=[],L=0,j=0,O={alternate:"root",children:[]},R=!1,T=!1,B=[],I=void 0,X=0,Y=[],z=void 0,F=O,D=[];const _=e=>{e.hooks.filter((e=>e.type===W&&e.effectPrevious&&"function"==typeof e.effectPrevious)).forEach((e=>B.push((()=>e.effectPrevious())))),e.hooks.filter((e=>e.type===U&&e.effectPrevious&&"function"==typeof e.effectPrevious)).forEach((e=>e.effectPrevious())),e.children.forEach((e=>_(e)))},q=()=>{for(R=!0,L=performance.now(),I=O,X=0,D.forEach((e=>e()));0!==B.length;)B.shift()();const e=()=>{requestAnimationFrame((()=>{const t=performance.now();t-L<j&&e(),(t-L>j||t-L===j)&&(R=!1),(t-L>j||t-L===j)&&q()}))};T&&e(),!1===T&&(R=!1),T=!1},H=e=>{var t;return void 0===t&&(t=z.hooks[z.index]),void 0===t&&(t={state:e}),z.hooks[z.index]=t,[t.state,e=>{"function"==typeof e&&(t.state=e(t.state)),"function"!=typeof e&&(t.state=e),!0===R&&(T=!0),!1===R&&requestAnimationFrame(q)}]},N=e=>{var t;return void 0===t&&(t=z.hooks[z.index]),void 0===t&&(t={current:e}),z.hooks[z.index]=t,t},W=(e,t)=>{var n;void 0===n&&(n=z.hooks[z.index]),void 0===n&&(n={effect:e}),z.hooks[z.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&B.push((()=>n.effectPrevious=n.effectPrevious&&"function"==typeof n.effectPrevious?n.effectPrevious():void 0)),(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&B.push((()=>n.effectPrevious=e())),n.dependence=t},U=(e,t)=>{var n;void 0===n&&(n=z.hooks[z.index]),void 0===n&&(n={effect:e}),z.hooks[z.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.effectPrevious=n.effectPrevious&&"function"==typeof n.effectPrevious?n.effectPrevious():void 0),(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.effectPrevious=e()),n.dependence=t},G=(e,t)=>{var n;void 0===n&&(n=z.hooks[z.index]),void 0===n&&(n={effect:e}),z.hooks[z.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.effect=e),n.dependence=t},J=(e,t)=>{var n;return void 0===n&&(n=z.hooks[z.index]),void 0===n&&(n={memo:e}),z.hooks[z.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.memo=e()),n.dependence=t,n.memo},K=(e,t)=>{var n;return void 0===n&&(n=z.hooks[z.index]),void 0===n&&(n={callback:e}),z.hooks[z.index]=n,(void 0===n.dependence||n.dependence.some(((e,n)=>e!==t[n])))&&(n.callback=e),n.dependence=t,n.callback},Q={renderNode:()=>F,mount:(e,t)=>(D.push(e),j=t,Q),render:q,compoment:(e,t,n)=>{var o,r=Object(t).key,a=Object(t).ref,c=I.children.findIndex((t=>void 0!==t.key&&t.key===r&&t.alternate===e));-1!==c&&I.children.splice(X,0,I.children.splice(c,1)[0]),void 0===o&&I.children[X]&&I.children[X].alternate===e&&I.children[X].key===r&&(o=I.children[X]),void 0===o&&(o={key:r,alternate:e,children:[],hooks:[],props:t}),o!==I.children[X]&&I.children[X]&&_(I.children[X]),o.parent=I,(e=>{F=e,I.children[X]=e,I=e,X=0,S.push(0),Y.push({hooks:e.hooks,index:0}),z=Y[Y.length-1]})(o),n(o.alternate(t)),(e=>{F=e,e.children.filter(((e,t)=>t>X||t===X)).forEach((e=>_(e))),e.children=e.children.filter(((e,t)=>t<X)),I=e.parent,X=I.children.findIndex((t=>t===e))+1,M=M.filter(((e,t)=>t<M.length-S[S.length-1])),S=S.filter(((e,t)=>t<S.length-1)),Y=Y.filter(((e,t)=>t<Y.length-1)),z=Y[Y.length-1],e.hooks.filter((e=>e.type===G&&e.effect&&"function"==typeof e.effect)).forEach((e=>e.effect()))})(o),"function"==typeof a&&a(o)},createElement:(e,t,...n)=>({alternate:e,props:t,children:n}),Fragment:e=>e.children,contextProvider:e=>{M.push(e),S[S.length-1]=S[S.length-1]+1},contextProviderExtend:e=>{M.push({...M[M.length-1],...e}),S[S.length-1]=S[S.length-1]+1},shouldRender:()=>{!0===R&&(T=!0),!1===R&&requestAnimationFrame(q)},useContext:()=>M[M.length-1],useState:H,useRef:N,useEffect:W,useEffectLoopEnd:G,useEffectImmediate:U,useMemo:J,useCallback:K};Object.keys(Q).filter((e=>[H,N,W,G,U,J,K].includes(Q[e]))).forEach((e=>{return Q[e]=(t=Q[e],(...e)=>{try{if(void 0!==z.hooks[z.index]&&z.hooks[z.index].type!==t)throw Error(t);return t(...e)}finally{z.hooks[z.index].type=t,z.index=z.index+1}});var t}));const V=Q,Z={useStateFlow:e=>{const t=V.useRef([]);return{getState:e=>t.current[void 0===e?t.current.length-1:e],useState:e=>{V.useEffectImmediate((()=>t.current=[...t.current,e]),[e]),V.useEffectImmediate((()=>()=>t.current=t.current.filter((t=>t!==e))),[e])}}},useAnimationCount:e=>{const[t,n]=V.useState(e.count),[o,r]=V.useState(e.delay),[a,c]=V.useState(e.flow);return V.useEffect((()=>{0!==o&&r(o-1)})),V.useEffect((()=>{!0===e.play&&0===o&&!0===e.reverse&&(t===e.min||t<e.min)&&c(0),!0===e.play&&0===o&&!0===e.reverse&&(t===e.max||t>e.max)&&c(1)})),V.useEffect((()=>{!0===e.play&&0===o&&0===a&&t<e.max&&n(t+e.rate),!0===e.play&&0===o&&1===a&&t>e.min&&n(t-e.rate)})),{animationCount:t,setAnimationCount:n,animationDelay:o,setAnimationDelay:r,animationFlow:a,setAnimationFlow:c}},useImage:e=>{const t=V.useMemo((()=>new Image),[]);return V.useEffectImmediate((()=>t.src=e.src),[e.src]),V.useEffectImmediate((()=>t.onload=()=>e.onload?e.onload():void 0),[e.onload]),{image:t}},useResourceReload:e=>{const[t,n]=V.useState(0),[o,r]=V.useState(!0);return V.useEffectImmediate((()=>{n(0),r(!0),e.resource.forEach((e=>fetch(e).then((()=>n((e=>e+1))))))}),[...e.resource]),V.useEffectImmediate((()=>r(t<e.resource.length)),[t]),{resourceCount:t,resourceLoading:o}}},$=Z,ee={CoordinateHelper:e=>{const t=P.coordinate({x:e.x,y:e.y,w:e.w,h:e.h});return new Array(Math.ceil(100*t.vmax/e.gap/2)).fill().map(((n,o)=>0===o?V.createElement(V.Fragment,null,V.createElement("rect",{isolated:!0,beginPath:!0,fill:!0,x:t.x,y:t.cy,w:100*t.vmax,h:.1*t.vmax,globalAlpha:.5,fillStyle:e.color}),V.createElement("rect",{isolated:!0,beginPath:!0,fill:!0,x:t.cx,y:t.y,w:.1*t.vmax,h:100*t.vmax,globalAlpha:.5,fillStyle:e.color})):0!==o?V.createElement(V.Fragment,null,V.createElement("rect",{isolated:!0,beginPath:!0,fill:!0,x:t.x,y:t.cy+e.gap*o,w:100*t.vmax,h:.1*t.vmax,globalAlpha:.25,fillStyle:e.color}),V.createElement("rect",{isolated:!0,beginPath:!0,fill:!0,x:t.x,y:t.cy-e.gap*o,w:100*t.vmax,h:.1*t.vmax,globalAlpha:.25,fillStyle:e.color}),V.createElement("rect",{isolated:!0,beginPath:!0,fill:!0,x:t.cx+e.gap*o,y:t.y,w:.1*t.vmax,h:100*t.vmax,globalAlpha:.25,fillStyle:e.color}),V.createElement("rect",{isolated:!0,beginPath:!0,fill:!0,x:t.cx-e.gap*o,y:t.y,w:.1*t.vmax,h:100*t.vmax,globalAlpha:.25,fillStyle:e.color})):void 0))}};var te=[];const ne=(e,t)=>{t&&(te=[...te,{type:e,callback:t}])},oe=(e,t)=>{t&&(te=te.filter((n=>n.type!==e||n.callback!==t)))},re={addEventListener:ne,removeEventListener:oe,clearEventListener:()=>{te=[]},useEventListener:(e,t)=>{V.useEffectImmediate((()=>{t&&ne(e,t)}),[e,t]),V.useEffectImmediate((()=>{if(t)return()=>oe(e,t)}),[e,t])},addEventListenerWithCanvas:e=>{new Array("click","touchstart","touchmove","touchend","mousedown","mousemove","mouseup").forEach((t=>{e.addEventListener(t,(e=>((e,t)=>{const n=te.filter((e=>e.type===t)).sort(((e,t)=>{const n=void 0===e.option||void 0===e.option.priority?0:e.option.priority;return(void 0===t.option||void 0===t.option.priority?0:t.option.priority)-n}));var o=!1;n.forEach((t=>{var n,r;void 0===window.ontouchstart&&(n=e.pageX*be.dpr()),void 0===window.ontouchstart&&(r=e.pageY*be.dpr()),void 0!==window.ontouchstart&&(n=[...e.changedTouches].map((e=>e*be.dpr()))),void 0!==window.ontouchstart&&(r=[...e.changedTouches].map((e=>e*be.dpr())));const a={native:e,x:n,y:r,stopPropagation:()=>o=!0};!1===o&&t.callback(a)}))})(e,t)),{passive:!0})}))}},ae=re,ce=(e,t)=>{if(void 0===window.ontouchstart){var{onStart:n,onMove:o,onEnd:r}=(e=>{const t=V.useRef(),n=V.useRef(),o=V.useCallback((t=>{e.onChange&&e.onChange(t)}),[e.onChange]);return{onStart:V.useCallback((r=>{if(!1===e.enable)return;const a=r.x,c=r.y;t.current={x:a,y:c},n.current={x:a,y:c},o({type:"mouse",status:"afterStart",e:r,x:a,y:c,changedX:0,changedY:0,continuedX:0,continuedY:0})}),[e.enable,e.onChange]),onMove:V.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=r.x,c=r.y,i=a-n.current.x,l=c-n.current.y,h=n.current.x-t.current.x,s=n.current.y-t.current.y;n.current={x:a,y:c},o({type:"mouse",status:"afterMove",e:r,x:a,y:c,changedX:i,changedY:l,continuedX:h,continuedY:s})}),[e.enable,e.onChange]),onEnd:V.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=r.x,c=r.y,i=a-n.current.x,l=c-n.current.y,h=n.current.x-t.current.x,s=n.current.y-t.current.y;o({type:"mouse",status:"beforeEnd",e:r,x:a,y:c,changedX:i,changedY:l,continuedX:h,continuedY:s}),t.current=void 0,n.current=void 0,o({type:"mouse",status:"afterEnd",e:r,x:a,y:c,changedX:i,changedY:l,continuedX:h,continuedY:s})}),[e.enable,e.onChange])}})({enable:e,onChange:t});ae.useEventListener("mousedown",n),ae.useEventListener("mousemove",o),ae.useEventListener("mouseup",r)}if(void 0!==window.ontouchstart){var{onStart:n,onMove:o,onEnd:r}=(e=>{const t=V.useRef(),n=V.useRef(),o=V.useCallback((t=>{e.onChange&&e.onChange(t),e.onChangeMemo&&e.onChangeMemo(t)}),[e.onChange]);return{onStart:V.useCallback((r=>{if(!1===e.enable)return;const a=r.x,c=r.y;t.current={x:a,y:c},n.current={x:a,y:c};const i=[],l=[],h=[],s=[];a.forEach(((e,t)=>{i[t]=0,h[t]=0})),c.forEach(((e,t)=>{l[t]=0,s[t]=0})),o({type:"touch",status:"afterStart",e:r,x:a,y:c,changedX:i,changedY:l,continuedX:h,continuedY:s})}),[e.enable,e.onChange]),onMove:V.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=r.x,c=r.y,i=[],l=[],h=[],s=[];a.forEach(((e,o)=>{i[o]=e-n.current.x[o],h[o]=n.current.x[o]-t.current.x[o]})),c.forEach(((e,o)=>{l[o]=e-n.current.y[o],s[o]=n.current.y[o]-t.current.y[o]})),n.current={x:a,y:c},o({type:"touch",status:"afterMove",e:r,x:a,y:c,changedX:i,changedY:l,continuedX:h,continuedY:s})}),[e.enable,e.onChange]),onEnd:V.useCallback((r=>{if(!1===e.enable)return;if(void 0===n.current)return;const a=r.x,c=r.y,i=[],l=[],h=[],s=[];a.forEach(((e,o)=>{i[o]=e-n.current.x[o],h[o]=n.current.x[o]-t.current.x[o]})),c.forEach(((e,o)=>{l[o]=e-n.current.y[o],s[o]=n.current.y[o]-t.current.y[o]})),o({type:"touch",status:"beforeEnd",e:r,x:a,y:c,changedX:i,changedY:l,continuedX:h,continuedY:s}),t.current=void 0,n.current=void 0,o({type:"touch",status:"afterEnd",e:r,x:a,y:c,changedX:i,changedY:l,continuedX:h,continuedY:s})}),[e.enable,e.onChange])}})({enable:e,onChange:t});ae.useEventListener("touchstart",n),ae.useEventListener("touchmove",o),ae.useEventListener("touchend",r)}},ie=e=>(ve.preprocessing(e),be.context().arc(e.x,e.y,e.radius,e.sAngle,e.eAngle,e.counterclockwise),ve.postprocessing(e),e.children),le=e=>(ve.preprocessing(e),be.context().clip(),ve.postprocessing(e),e.children),he=e=>{var t;return ve.preprocessing(e),!0===Boolean(e.image)&&(!0===Boolean(e.clipMaxCenter)&&(t=((e,t,n)=>{var{x:o,y:r,w:a,h:c}=t;if(0===n.width||0===n.height)return;var i=0,l=0,h=n.width,s=n.height;const d=a/h,u=c/s;return d>u&&(l=s-s*u/d,s-=s-s*u/d),u>d&&(i=h-h*d/u,h-=h-h*d/u),e.drawImage(n,i,l,h,s,o,r,a,c),{sx:i,sy:l,sw:h,sh:s,x:o,y:r,w:a,h:c}})(be.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.image)),!0===Boolean(e.clipMinCenter)&&(t=((e,t,n)=>{var{x:o,y:r,w:a,h:c}=t;if(0===n.width||0===n.height)return;var i=n.width,l=n.height;const h=a/i,s=c/l;return h>s&&(o+=(a-a*s/h)/2,a-=a-a*s/h),s>h&&(r+=(c-c*h/s)/2,c-=c-c*h/s),e.drawImage(n,0,0,i,l,o,r,a,c),{sx:0,sy:0,sw:i,sh:l,x:o,y:r,w:a,h:c}})(be.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.image)),!0!==Boolean(e.clipMaxCenter)&&!0!==Boolean(e.clipMinCenter)&&((e,t,n)=>{var{x:o,y:r,w:a,h:c}=t;if(0!==n.width&&0!==n.height){var i=n.width,l=n.height;e.drawImage(n,0,0,i,l,o,r,a,c)}})(be.context(),{x:e.x,y:e.y,w:e.w,h:e.h},e.image)),!0===Boolean(t)&&!0===Boolean(e.onClipPosition)&&e.onClipPosition(t),ve.postprocessing(e),e.children},se=(e,t)=>{var n=0,o=!1,r=[];return t.forEach((t=>{!1===o&&(n+t.w<e.w||n+t.w===e.w)&&r.push(t),!1===o&&(n+t.w<e.w||n+t.w===e.w)&&(n+=t.w),n+t.w>e.w&&(o=!0)})),{result:r,rest:t.filter(((e,t)=>t>r.length-1))}},de=(e,t)=>{var n=0,o=!1,r=[];return t.forEach((t=>{!1===o&&(n+t.h<e.h||n+t.h===e.h)&&r.push(t),!1===o&&(n+t.h<e.h||n+t.h===e.h)&&(n+=t.h),n+t.y>e.h&&(o=!0)})),{result:r,rest:t.filter(((e,t)=>t>r.length-1))}},ue={horizontalForward:(e,t)=>{var n=0;return t.forEach((t=>{t.x=e.x+n,n+=t.w})),t},horizontalReverse:(e,t)=>{var n=0;return t.forEach((t=>{t.x=e.x+e.w-t.w-n,n+=t.w})),t},horizontalCenter:(e,t)=>{var n=0,o=P.add(t).w;return t.forEach((t=>{t.x=e.x+(e.w-o)/2+n,n+=t.w})),t},horizontalAround:(e,t)=>{var n=0,o=P.add(t).w;return t.forEach(((r,a)=>{r.x=e.x+(e.w-o)/(t.length-1)*a+n,n+=r.w})),t},horizontalBetween:(e,t)=>{var n=0,o=P.add(t).w;return t.forEach(((r,a)=>{r.x=e.x+(e.w-o)/(t.length+1)*(a+1)+n,n+=r.w})),t},horizontalAlignLeft:(e,t)=>(t.forEach(((t,n)=>{t.x=e.x})),t),horizontalAlignRight:(e,t)=>(t.forEach(((t,n)=>{t.x=e.x+e.w})),t),horizontalAlignCenter:(e,t)=>(t.forEach(((t,n)=>{t.x=e.x+(e.w-t.w)/2})),t),verticalForward:(e,t)=>{var n=0;return t.forEach((t=>{t.y=e.y+n,n+=t.h})),t},verticalReverse:(e,t)=>{var n=0;return t.forEach((t=>{t.y=e.y+e.h-t.h-n,n+=t.h})),t},verticalCenter:(e,t)=>{var n=0,o=P.add(t).h;return t.forEach((t=>{t.y=e.y+(e.h-o)/2+n,n+=t.h})),t},verticalAround:(e,t)=>{var n=0,o=P.add(t).h;return t.forEach(((r,a)=>{r.y=e.y+(e.h-o)/(t.length-1)*a+n,n+=r.h})),t},verticalBetween:(e,t)=>{var n=0,o=P.add(t).h;return t.forEach(((r,a)=>{r.y=e.y+(e.h-o)/(t.length+1)*(a+1)+n,n+=r.h})),t},verticalAlignTop:(e,t)=>(t.forEach(((t,n)=>{t.y=e.y})),t),verticalAlignBottom:(e,t)=>(t.forEach(((t,n)=>{t.y=e.y+e.h})),t),verticalAlignCenter:(e,t)=>(t.forEach(((t,n)=>{t.y=e.y+(e.h-t.h)/2})),t)},xe=e=>{ve.preprocessing(e);const t=Object.keys(e).findIndex((e=>"horizontalForward"===e||"horizontalReverse"===e||"horizontalCenter"===e||"horizontalAround"===e||"horizontalAround"===e||"horizontalBetween"===e)),n=Object.keys(e).findIndex((e=>"verticalForward"===e||"verticalReverse"===e||"verticalCenter"===e||"verticalAround"===e||"verticalAround"===e||"verticalBetween"===e)),o=e.children.flat().filter((e=>"layout"===e.alternate)).map((e=>e.props));return!0===Boolean(e.wrap)&&n>-1&&n>-1&&n<t&&((e,t,n,o)=>{for(var r=[],a=t;a.length;){const t=de(e,a);r=[...r,t.result],a=t.rest}n(e,r.map((t=>Object({y:e.y,h:P.hmax(t)})))).forEach(((e,t)=>r[t].forEach((t=>t.y=e.y)))),r.forEach((t=>o({x:e.x,y:t.y,w:e.w},t)))})({x:e.x,y:e.y,w:e.w,h:e.h},o,ue[Object.keys(e)[n]],ue[Object.keys(e)[t]]),!0===Boolean(e.wrap)&&t>-1&&n>-1&&t<n&&((e,t,n,o)=>{for(var r=[],a=t;a.length;){const t=se(e,a);r=[...r,t.result],a=t.rest}n(e,r.map((t=>Object({x:e.x,w:P.wmax(t)})))).forEach(((e,t)=>r[t].forEach((t=>t.x=e.x)))),r.forEach((t=>o({y:e.y,h:e.h},t)))})({x:e.x,y:e.y,w:e.w,h:e.h},o,ue[Object.keys(e)[t]],ue[Object.keys(e)[n]]),!1===Boolean(e.wrap)&&Object.keys(e).forEach((t=>{!0===Boolean(e[t])&&ue[t]&&ue[t]({x:e.x,y:e.y,w:e.w,h:e.h},o)})),e.children.forEach(((t,n)=>{"function"==typeof t&&(e.children[n]=t({x:e.x,y:e.y,w:e.w,h:e.h}))})),ve.postprocessing(e),e.children},fe=e=>{ve.preprocessing(e);var t=new Array(4).fill(0);return e.radius&&"object"==typeof t&&Array.isArray(t)&&(t=e.radius),e.radius&&"number"==typeof t&&(t=new Array(4).fill(e.radius)),be.context().moveTo(e.x,e.y+t[0]),be.context().arcTo(e.x,e.y,e.x+t[0],e.y,t[0]),be.context().lineTo(e.x+e.w-t[1],e.y),be.context().arcTo(e.x+e.w,e.y,e.x+e.w,e.y+t[1],t[1]),be.context().lineTo(e.x+e.w,e.y+e.h-t[2]),be.context().arcTo(e.x+e.w,e.y+e.h,e.x+e.w-t[2],e.y+e.h,t[2]),be.context().lineTo(e.x+t[3],e.y+e.h),be.context().arcTo(e.x,e.y+e.h,e.x,e.y+e.h-t[3],t[3]),ve.postprocessing(e),e.children},ye=e=>{ve.preprocessing(e);const t=((e,t,n)=>{var o="",r=[];return n.split("").forEach((n=>{const a=e.measureText(o+n).width;a>t&&r.push({text:o,w:a,h:Number(e.font.match(/\d+px/)[0].replace("px",""))}),a>t&&(o=""),o+=n})),o&&r.push({text:o,w:e.measureText(o).width,h:Number(e.font.match(/\d+px/)[0].replace("px",""))}),r})(be.context(),e.w,e.text);return t.forEach(((t,n)=>{!0===Boolean(e.fillText)&&be.context().fillText(t.text,e.x,e.y+t.h+n*t.h+n*(e.gap||0)),!0===Boolean(e.strokeText)&&be.context().strokeText(t.text,e.x,e.y+t.h+n*t.h+n*(e.gap||0))})),ve.postprocessing(e),e.children},ve={render:e=>"arc"===e?ie:"clip"===e?le:"image"===e?he:"layout"===e?xe:"rect"===e?fe:"text"===e?ye:void 0,preprocessing:e=>{be.context().save(),void 0!==e.globalAlpha&&(be.context().globalAlpha=e.globalAlpha),void 0!==e.font&&(be.context().font=e.font),void 0!==e.fillStyle&&(be.context().fillStyle=e.fillStyle),void 0!==e.strokeStyle&&(be.context().strokeStyle=e.strokeStyle),!0===Boolean(e.beginPath)&&be.context().beginPath()},postprocessing:e=>{!0===Boolean(e.fill)&&be.context().fill(),!0===Boolean(e.stroke)&&be.context().stroke(),ae.useEventListener("click",e.onClick),ae.useEventListener("touchstart",e.onTouchStart),ae.useEventListener("touchmove",e.onTouchMove),ae.useEventListener("touchend",e.onTouchEnd),ae.useEventListener("mousedown",e.onMouseUp),ae.useEventListener("mousemove",e.onMouseMove),ae.useEventListener("mouseup",e.onMouseUp),ce(e.onDragEnable,e.onDrag),!0===Boolean(e.isolated)&&be.context().restore(),V.useEffectLoopEnd((()=>{!0!==Boolean(e.isolated)&&be.context().restore()}),[])}};var pe,me,we;const ge=e=>{e&&"object"==typeof e&&(!0===Array.isArray(e)&&e.forEach((e=>ge(e))),!1===Array.isArray(e)&&"function"==typeof e.alternate&&V.compoment(e.alternate,{...e.props,children:e.children},ge),!1===Array.isArray(e)&&"string"==typeof e.alternate&&V.compoment(ve.render(e.alternate),{...e.props,children:e.children},ge))},be={dpr:()=>pe,canvas:()=>me,context:()=>we,mount:(e,t)=>{const n=document.createElement("style");n.innerHTML=["::-webkit-scrollbar { width: 0; height: 0; }","body { padding: 0; margin: 0; }","body, body * { overscroll-behavior: none; }"].join(" "),document.head.appendChild(n),window.addEventListener("wheel",(e=>e.preventDefault()),{passive:!1}),window.addEventListener("touchmove",(e=>e.preventDefault()),{passive:!1}),window.addEventListener("contextmenu",(e=>e.preventDefault()),{passive:!1}),pe=2,me=document.createElement("canvas"),we=me.getContext("2d");const o=()=>{me.width=window.innerWidth*pe,me.height=window.innerHeight*pe,me.style.width="100%",me.style.height="100%",me.coordinate=P.coordinate({x:0,y:0,w:me.width,h:me.height})};return me.style.position="absolute",me.style.width="100%",me.style.height="100%",me.style.background="black",me.style.overflow="hidden",o(),window.addEventListener("resize",(()=>{o(),V.shouldRender()})),document.body.appendChild(me),ae.addEventListenerWithCanvas(me),V.mount((()=>{we.clearRect(0,0,me.width,me.height),ge(e)}),t.frameTimeDiffMax),{render:V.render}}},Ee={Position:P,React:V,ReactDomComponent:ee,ReactDom:be,ReactPlugin:$};var ke=exports;for(var Ce in t)ke[Ce]=t[Ce];t.__esModule&&Object.defineProperty(ke,"__esModule",{value:!0})})();